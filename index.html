<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-itunes-app" content="app-id=6742896499, app-argument=https://gentlercoparent.vercel.app">
    <title>Gentler Coparent</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" type="image/png" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/logos/apple-touch-icon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Raleway:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="logo">
            <a href="index.html">
                <img src="images/logos/main-logo.png" alt="Gentler Coparent Logo">
            </a>
        </div>
        <div class="social-icons">
            <a href="https://www.facebook.com" target="_blank">
                <img src="images/icons/facebook.svg" alt="Facebook">
            </a>
            <a href="https://www.instagram.com" target="_blank">
                <img src="images/icons/instagram.svg" alt="Instagram">
            </a>
            <a href="https://www.x.com" target="_blank">
                <img src="images/icons/x-twitter.svg" alt="X">
            </a>
        </div>
    </header>

    <section class="hero">
        <div class="hero-content">
            <h1>Harmonize Your Co-Parenting</h1>
            <p class="subheading">Prioritize your children, transform your communication.</p>
        </div>
        <a href="https://apps.apple.com/app/id6742896499" class="btn">Download Now</a>
    </section>

    <section class="intro">
        <h2>Effective Co-Parenting Starts Here</h2>
        <p>At Gentler Coparent, we understand the challenges of co-parenting. Our app is designed to help you communicate effectively, manage schedules, and prioritize your children's well-being. With intuitive features and a user-friendly interface, we make co-parenting less stressful and more collaborative.</p>
    </section>

    <section class="video-section">
        <h2>Watch Our Story</h2>
        <p>Learn more about how Gentler Coparent can transform your co-parenting experience.</p>
        <video controls>
            <source src="images/gentler_coparent.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </section>

    <section class="banner-section">
        <img src="images/gcp_x_banner.png" alt="Gentler Coparent Banner" class="banner-image">
    </section>

    <section class="cta">
        <h2>Ready to Simplify Co-Parenting?</h2>
        <p class="subheading">Download Gentler Coparent today and start building a better future for your family.</p>
        <a href="https://apps.apple.com/app/id6742896499" class="btn">Get Started Now</a>
    </section>

    <section class="final-message">
        <img src="images/logos/logo-symbol.png" alt="Dove Icon">
        <p>Harmonizing co-parenting, one conversation at a time.</p>
    </section>

    <footer>
        <div class="footer-links">
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="contact.html">Contact</a>
            <a href="privacy-policy.html">Privacy Policy</a>
            <a href="usage-agreement.html">Usage Agreement</a>
        </div>
        <div class="social-icons">
            <a href="https://www.facebook.com" target="_blank">
                <img src="images/icons/facebook.svg" alt="Facebook">
            </a>
            <a href="https://www.instagram.com" target="_blank">
                <img src="images/icons/instagram.svg" alt="Instagram">
            </a>
            <a href="https://www.x.com" target="_blank">
                <img src="images/icons/x-twitter.svg" alt="X">
            </a>
        </div>
        <p>Â© 2025 Gentler Coparent. All rights reserved.</p>
    </footer>

    <!-- Bottom Sheet for App Download -->
    <div id="app-bottom-sheet-overlay" class="app-bottom-sheet-overlay"></div>
    <div id="app-bottom-sheet" class="app-bottom-sheet" data-dragging="false">
        <div class="app-bottom-sheet-content">
            <div class="grab-handle" aria-label="Drag to dismiss"></div>
            <img src="images/logos/main-logo.png" alt="Gentler Coparent Logo" class="app-bottom-sheet-logo">
            <h3>Get the Gentler Coparent App</h3>
            <p>Transform your co-parenting experience today.</p>
            <a href="https://apps.apple.com/app/id6742896499" class="btn app-download-btn">FREE TRIAL</a>
            <a href="#" id="dismiss-bottom-sheet" class="dismiss-link">Not now</a>
        </div>
    </div>

    <!-- JavaScript to Show/Hide Bottom Sheet and Handle Dragging -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            try {
                console.log('Initializing bottom sheet script');
                const bottomSheet = document.getElementById('app-bottom-sheet');
                const overlay = document.getElementById('app-bottom-sheet-overlay');
                const dismissLink = document.getElementById('dismiss-bottom-sheet');
                const grabHandle = document.querySelector('.grab-handle');

                if (!bottomSheet || !overlay || !dismissLink || !grabHandle) {
                    console.error('Bottom sheet elements not found:', {
                        bottomSheet: !!bottomSheet,
                        overlay: !!overlay,
                        dismissLink: !!dismissLink,
                        grabHandle: !!grabHandle
                    });
                    return;
                }

                // Always show the bottom sheet and overlay on page load
                console.log('Showing bottom sheet and overlay');
                bottomSheet.style.display = 'block';
                overlay.style.display = 'block';
                console.log('Adding slide-up class');
                bottomSheet.classList.add('slide-up');

                // Dismiss the banner when "Not now" is clicked
                dismissLink.addEventListener('click', function (e) {
                    e.preventDefault();
                    console.log('Dismissing bottom sheet via Not now link');
                    dismissBottomSheet();
                });

                // Function to dismiss the bottom sheet
                function dismissBottomSheet() {
                    bottomSheet.classList.remove('slide-up');
                    bottomSheet.classList.add('slide-down');
                    overlay.style.opacity = '0';
                    setTimeout(() => {
                        bottomSheet.style.display = 'none';
                        overlay.style.display = 'none';
                        // Removed localStorage.setItem to allow the sheet to reappear on every page load
                    }, 300); // Match the animation duration
                }

                // Touch events for mobile
                let touchStartY = 0;
                let touchCurrentY = 0;
                let isDragging = false;

                grabHandle.addEventListener('touchstart', function (e) {
                    e.preventDefault();
                    isDragging = true;
                    touchStartY = e.touches[0].clientY;
                    bottomSheet.setAttribute('data-dragging', 'true');
                    bottomSheet.style.transition = 'none'; // Disable transition during drag
                });

                grabHandle.addEventListener('touchmove', function (e) {
                    if (!isDragging) return;
                    e.preventDefault(); // Prevent page scrolling during drag
                    touchCurrentY = e.touches[0].clientY;
                    let deltaY = touchCurrentY - touchStartY;
                    if (deltaY < 0) deltaY = 0; // Prevent dragging up past original position
                    bottomSheet.style.transform = `translateY(${deltaY}px)`;
                    // Adjust overlay opacity based on drag distance
                    const sheetHeight = bottomSheet.offsetHeight;
                    const opacity = 1 - (deltaY / sheetHeight);
                    overlay.style.opacity = Math.max(0, Math.min(1, opacity));
                });

                grabHandle.addEventListener('touchend', function () {
                    if (!isDragging) return;
                    isDragging = false;
                    bottomSheet.setAttribute('data-dragging', 'false');
                    bottomSheet.style.transition = 'transform 0.2s ease-in-out'; // Re-enable transition
                    const sheetHeight = bottomSheet.offsetHeight;
                    const deltaY = touchCurrentY - touchStartY;
                    if (deltaY > sheetHeight * 0.3) { // Lowered threshold to 30% for easier dismissal
                        dismissBottomSheet();
                    } else { // Snap back to original position
                        bottomSheet.style.transform = 'translateY(0)';
                        overlay.style.opacity = '1';
                    }
                });

                // Mouse events for desktop
                let mouseStartY = 0;
                let mouseCurrentY = 0;

                grabHandle.addEventListener('mousedown', function (e) {
                    e.preventDefault();
                    isDragging = true;
                    mouseStartY = e.clientY;
                    bottomSheet.setAttribute('data-dragging', 'true');
                    bottomSheet.style.transition = 'none';
                });

                grabHandle.addEventListener('mousemove', function (e) {
                    if (!isDragging) return;
                    mouseCurrentY = e.clientY;
                    let deltaY = mouseCurrentY - mouseStartY;
                    if (deltaY < 0) deltaY = 0;
                    bottomSheet.style.transform = `translateY(${deltaY}px)`;
                    const sheetHeight = bottomSheet.offsetHeight;
                    const opacity = 1 - (deltaY / sheetHeight);
                    overlay.style.opacity = Math.max(0, Math.min(1, opacity));
                });

                grabHandle.addEventListener('mouseup', function () {
                    if (!isDragging) return;
                    isDragging = false;
                    bottomSheet.setAttribute('data-dragging', 'false');
                    bottomSheet.style.transition = 'transform 0.2s ease-in-out';
                    const sheetHeight = bottomSheet.offsetHeight;
                    const deltaY = mouseCurrentY - mouseStartY;
                    if (deltaY > sheetHeight * 0.3) {
                        dismissBottomSheet();
                    } else {
                        bottomSheet.style.transform = 'translateY(0)';
                        overlay.style.opacity = '1';
                    }
                });

                // Prevent default scrolling behavior during drag on mobile
                bottomSheet.addEventListener('touchmove', function (e) {
                    if (isDragging) {
                        e.preventDefault();
                    }
                });
            } catch (error) {
                console.error('Error in bottom sheet script:', error);
            }
        });
    </script>
</body>
</html>